<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../static/index.js"></script>
    <link rel="stylesheet" href="../static/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>{{header_title}}</h1>
        </header>
        <section>
            <div class="server_status">
                <h2 class="server_status_text">
                    {{server_status_text}}
                </h2>
                <div class="server_status_container">
                    {%if result|length!=0%}
                       RUNNING
                    {%else%}
                        IDLE
                    {% endif %}
                </div>
                <div class="server-form-container">
                    {% block form%}
                    {% if data|length==0 %}
                    <form action="{{ url_for('home_page')}}" method="post" class="server_form">
                        <label class="label" for="lr">Learning rate:</label><br>
                        <input class="input" type="number" step="any" id="lr" name="lr" placeholder="0.001"><br>
                        <label class="label" for="epochs">Epochs:</label><br>
                        <input class="input" type="number" id="epochs" name="epochs" placeholder="5"><br>
                        <label class="label" for="epochs">Batch size:</label><br>
                        <input class="input" type="number" id="batch_size" name="batch_size" placeholder="32"><br>
                        <label class="label" for="optim">Optimizer:</label><br>
                        <input class="input" type="text" id="optim" name="optim" placeholder="SGD"><br>
                        <div class="btn-container">
                            <button onclick="startServer()" class="server_status_start">
                                Start server
                            </button>
                        </div>
                    </form>
                    {% else %}
                        <div>
                            <p>Learning rate: {{data['lr']}}</p>
                            <p>Epochs: {{data['epochs']}}</p>
                            <p>Batch size: {{data['batch_size']}}</p>
                            <p>Optimizer: {{data['optim']}}</p>
                        </div>
                        <button onclick="startLearning()">Start Learning</button>
                    {% endif %}
                {% endblock %}
                </div>
                
            </div>
            <div class="clients_status">
                <div class="client-container">
                    <div class="clients_status_text_container">
                        <h3 class="clients_status_text">
                            {{clients_status_text}}
                        </h3>
                        {%if clients|length == 0 %}
                            <p class="clients_status_text_not_found">
                                {{clients_status_text_not_found}}
                            </p>
                        {%else%}
                            <p class="clients_status_text_not_found">
                               Number of clients: {{num_clients}}
                            </p>
                        {%endif%}
                        <a href="/">
                            <button class="clients_status_refresh" >
                                    <i class="fa fa-refresh"></i>  
                            </button>
                        </a>
                    </div>
                    <div class="client-form-container">
                            <form action="" method="post" class="client-form">
                                <label class="label" for="name_client">Client name:</label><br>
                                <input class="input" type="text"  id="name_client" name="name_client" placeholder="Client_1"><br>
                                <label class="label" for="lr">Learning rate:</label><br>
                                <input class="input" type="number" step="any" id="lr_client" name="lr" placeholder="0.001"><br>
                                <label class="label" for="epochs">Epochs:</label><br>
                                <input class="input" type="number" id="epochs_client" name="epochs" placeholder="5"><br>
                                <label class="label" for="batch_size">Batch size:</label><br>
                                <input class="input" type="number" id="batch_size_client" name="batch_size" placeholder="32"><br>
                                <label class="label" for="optim">Optimizer:</label><br>
                                <input class="input" type="text" id="optim_client" name="optim" placeholder="SGD"><br>
                                <div class="btn-container">
                                    <button class="client_status_start" onclick="addClient(event)">
                                        Add client
                                    </button>
                                </div>
                           </form>
                    </div>
                </div>
                <div class="client-table-container">
                        {%if clients|length != 0 %}
                        <table id="clients">
                            <tr>
                                <th >ID</th>
                                <th>Client name</th>
                                <th>Client url</th>
                                <th>Status</th>
                                <th>Learning rate</th>
                                <th>Epochs</th>
                                <th>Batch-size</th>
                                <th>Optimizer</th>
                                <th>Delete</th>
                            </tr>
                            {%for client in clients %}
                                <tr id={{client['id']}}_client>
                                    <td>{{client['id']}}</td>
                                    <td>{{client['client_name']}}</td>
                                    <td>{{client['client_url']}}</td>
                                    <td>{{client['client_status']}}</td>
                                    <td>{{client['lr']}}</td>
                                    <td>{{client['epochs']}}</td>
                                    <td>{{client['batch_size']}}</td>
                                    <td>{{client['optim']}}</td>
                                    <td><button class="delete_btn" onclick="deleteUser(event.target)">Delete client {{client['id']}}</button></tr>
                                </tr>
                            {%endfor%}
                        </table>
                    {%endif%}
                </div>
               
                <!-- <div class="clients_status_training">
                    <button  class="clients_status_training_dropbtn" onclick="clickDropDown()">Dropdown</button>
                    <div id="myDropdown" class="dropdown-content">
                      <a href="#" class="training_option">Link 1</a>
                      <a href="#" class="training_option">Link 2</a>
                      <a href="#" class="training_option">Link 3</a>
                    </div>
                </div> -->
            </div>
        </section>
        <footer>

        </footer>
    </div>
</body>
</html>